<div *ngIf="formConfig" class="container">

  <h1>Formulier - {{formConfig.name}} {{formDirty ? '*' : ''}}
    <button mat-button  mat-mini-fab color="" (click)="closeDialog();" class="close-button" >
      <mat-icon>close</mat-icon>
    </button>
  </h1>
  <div class="form-container">
    <div class="tree">
      <tailormap-form-tree
      (nodeClicked)='openForm($event)'
      [features]=features
      [feature]=feature></tailormap-form-tree>
    </div>
    <div class="form">
      <tailormap-form-creator #formCreator
                             [feature]=feature
                             [features]=features
                             [formConfig]=formConfig
                             [isBulk]=isBulk
                             (formChanged)="formChanged($event)"
      >
      </tailormap-form-creator>
    </div>
  </div>
  <div class="bottom-bar">

    <button color="primary" mat-raised-button mat-fab aria-label="Voeg toe" class="add-button" [matMenuTriggerFor]="menu">
      <mat-icon>add</mat-icon>
    </button>
    <button color="warn" mat-raised-button mat-fab aria-label="Verwijder" class="add-button" (click)="this.remove();">
      <mat-icon>delete</mat-icon>
    </button>
    <button color="accent" mat-raised-button mat-fab aria-label="kopieren" class="add-button" (click)="this.copy();">
      <mat-icon>content_copy</mat-icon>
    </button>
    <button [disabled]="!formDirty && !data.closeAfterSave" mat-raised-button mat-fab aria-label="Sla op" class="add-button save-button" (click)="formCreator.save();">
      <mat-icon *ngIf="!data.closeAfterSave" >save</mat-icon>
      <mat-icon *ngIf="data.closeAfterSave" >navigate_next</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <button *ngFor="let co of formsForNew" [id]="co.featureType" mat-menu-item (click)="this.newItem($event);">
       {{co.name}}
      </button>
    </mat-menu>
  </div>
</div>
