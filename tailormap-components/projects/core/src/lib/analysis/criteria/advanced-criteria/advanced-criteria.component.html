<div class="overlay-panel mat-elevation-z4">
  <tailormap-dialog-close-button (closeDialog)="closePanel()" icon="chevron_left"></tailormap-dialog-close-button>
  <h1>Criteria groepen (geavanceerd)</h1>
  <div class="form">
    <button mat-flat-button class="link-button add-group-button" (click)="addGroup()">
      + nieuwe criteria groep
    </button>
    <div class="group-list" cdkDropList (cdkDropListDropped)="drop($event)">
      <div class="group_list__group"
           *ngFor="let group of criteria.groups; trackBy: getGroupId"
           cdkDrag
           [cdkDragData]="group"
           cdkDragLockAxis="y">
        <div class="group-placeholder" *cdkDragPlaceholder></div>
        <tailormap-criteria-group [criteriaGroup]="group"
                                  (criteriaGroupRemoved)="removeGroup($event)"
                                  (criteriaGroupUpdated)="groupChanged($event)">
          <mat-icon class="drag-handle" svgIcon="contextual_drag" cdkDragHandle></mat-icon>
        </tailormap-criteria-group>
      </div>
    </div>
  </div>
  <div class="buttons">
    <button mat-flat-button (click)="remove()">Verwijderen</button>
    <button mat-flat-button color="primary" (click)="save()" [disabled]="!saveButtonEnabled">Opslaan</button>
  </div>
</div>
