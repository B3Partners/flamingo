<div style="visibility: hidden; position: fixed;"
     [style.left]="contextMenuPosition.x"
     [style.top]="contextMenuPosition.y"
     [matMenuTriggerFor]="statisticsMenu">
</div>

<mat-menu #statisticsMenu="matMenu">
  <ng-template matMenuContent let-colName="colName">
    <ng-container *ngFor="let statType of keys(eStatisticType) ">
      <div
        *ngIf="getStatisticFunctionColumnType(colName) === 'numeric' && eStatisticType[statType] !== 'COUNT' && eStatisticType[statType] !== 'NONE'">
        <button mat-menu-item (click)="onStatisticsMenuClick(colName, eStatisticType[statType])">
          <mat-icon
            [ngClass]="(getStatisticTypeInMenu(colName) === eStatisticTypeInMenu[statType])? 'menu-icon material-icons-set': 'menu-icon material-icons-off'">
            check
          </mat-icon>
          {{eStatisticTypeInMenu[statType]}}
        </button>
      </div>
    </ng-container>
    <ng-container *ngFor="let statType of keys(eStatisticType) ">
      <div *ngIf="eStatisticType[statType] === ('COUNT')">
        <button mat-menu-item (click)="onStatisticsMenuClick(colName, eStatisticType[statType])">
          <mat-icon
            [ngClass]="(getStatisticTypeInMenu(colName) === eStatisticTypeInMenu[statType])? 'menu-icon material-icons-set': 'menu-icon material-icons-off'">
            check
          </mat-icon>
          {{eStatisticTypeInMenu[statType]}}
        </button>
      </div>
    </ng-container>
    <mat-divider></mat-divider>
    <ng-container *ngFor="let statType of keys(eStatisticType) ">
      <div *ngIf="eStatisticType[statType] === ('NONE')">
        <button mat-menu-item (click)="onStatisticsMenuClick(colName, eStatisticType[statType])">
          <mat-icon
            [ngClass]="(getStatisticTypeInMenu(colName) === eStatisticTypeInMenu[statType])? 'menu-icon material-icons-set': 'menu-icon material-icons-off'">
            check
          </mat-icon>
          {{eStatisticTypeInMenu[statType]}}</button>
      </div>
    </ng-container>
  </ng-template>
</mat-menu>
